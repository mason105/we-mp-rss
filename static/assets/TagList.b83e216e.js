import{l as M,d as O}from"./tagManagement.100052c3.js";import{_ as S,d as P,r as g,k as x,q as N,e as V,c as a,w as t,M as B,j as o,o as i,m as l,l as _,t as z}from"./index.d6428658.js";const W={class:"tag-list"},j=P({__name:"TagList",setup(q){const d=g(!1),m=g([]),s=g({current:1,pageSize:10,total:0}),F=g(window.innerWidth<768),k=()=>{F.value=window.innerWidth<768};x(()=>{window.addEventListener("resize",k)}),N(()=>{window.removeEventListener("resize",k)});const v=async()=>{try{d.value=!0;const n=await M({skip:(s.value.current-1)*s.value.pageSize,limit:s.value.pageSize});console.log(n),m.value=n.list||[],s.value.total=n.total||0}catch{B.error("\u83B7\u53D6\u6807\u7B7E\u5217\u8868\u5931\u8D25")}finally{d.value=!1}},y=async n=>{try{await O(n),B.success("\u5220\u9664\u6210\u529F"),v()}catch{B.error("\u5220\u9664\u5931\u8D25")}},E=n=>{s.value.current=n,v()};return x(()=>{v()}),(n,e)=>{const r=o("a-button"),$=o("a-page-header"),p=o("a-table-column"),c=o("a-tag"),C=o("a-popconfirm"),w=o("a-space"),b=o("a-table"),A=o("a-list-item-meta"),D=o("a-list-item"),T=o("a-list"),L=o("a-card");return i(),V("div",W,[a($,{title:"\u6807\u7B7E\u7BA1\u7406",subtitle:"\u7BA1\u7406\u6587\u7AE0\u6807\u7B7E"},{extra:t(()=>[a(r,{type:"primary",onClick:e[0]||(e[0]=u=>n.$router.push("/tags/add"))},{default:t(()=>e[1]||(e[1]=[l(" \u6DFB\u52A0\u6807\u7B7E ")])),_:1,__:[1]})]),_:1}),a(L,null,{default:t(()=>[F.value?(i(),_(T,{key:1,loading:d.value,data:m.value,pagination:s.value,onPageChange:E},{item:t(({item:u})=>[a(D,null,{default:t(()=>[a(A,null,{title:t(()=>[l(z(u.name)+" ",1),u.status===1?(i(),_(c,{key:0,color:"green",size:"small"},{default:t(()=>e[6]||(e[6]=[l("\u542F\u7528")])),_:1,__:[6]})):(i(),_(c,{key:1,color:"red",size:"small"},{default:t(()=>e[7]||(e[7]=[l("\u7981\u7528")])),_:1,__:[7]}))]),description:t(()=>[l(" \u521B\u5EFA\u65F6\u95F4: "+z(u.created_at),1)]),_:2},1024),a(w,null,{default:t(()=>[a(r,{type:"text",size:"small",onClick:f=>n.$router.push(`/tags/edit/${u.id}`)},{default:t(()=>e[8]||(e[8]=[l(" \u7F16\u8F91 ")])),_:2,__:[8]},1032,["onClick"]),a(C,{content:"\u786E\u8BA4\u5220\u9664\u8BE5\u6807\u7B7E\uFF1F",onOk:f=>y(u.id)},{default:t(()=>[a(r,{type:"text",status:"danger",size:"small"},{default:t(()=>e[9]||(e[9]=[l("\u5220\u9664")])),_:1,__:[9]})]),_:2},1032,["onOk"])]),_:2},1024)]),_:2},1024)]),_:1},8,["loading","data","pagination"])):(i(),_(b,{key:0,loading:d.value,data:m.value,pagination:s.value,onPageChange:E},{columns:t(()=>[a(p,{title:"\u6807\u7B7E\u540D\u79F0","data-index":"name"}),a(p,{title:"\u72B6\u6001","data-index":"status"},{cell:t(({record:u})=>[u.status===1?(i(),_(c,{key:0,color:"green"},{default:t(()=>e[2]||(e[2]=[l("\u542F\u7528")])),_:1,__:[2]})):(i(),_(c,{key:1,color:"red"},{default:t(()=>e[3]||(e[3]=[l("\u7981\u7528")])),_:1,__:[3]}))]),_:1}),a(p,{title:"\u521B\u5EFA\u65F6\u95F4","data-index":"created_at"}),a(p,{title:"\u64CD\u4F5C"},{cell:t(({record:u})=>[a(w,null,{default:t(()=>[a(r,{type:"text",onClick:f=>n.$router.push(`/tags/edit/${u.id}`)},{default:t(()=>e[4]||(e[4]=[l(" \u7F16\u8F91 ")])),_:2,__:[4]},1032,["onClick"]),a(C,{content:"\u786E\u8BA4\u5220\u9664\u8BE5\u6807\u7B7E\uFF1F",onOk:f=>y(u.id)},{default:t(()=>[a(r,{type:"text",status:"danger"},{default:t(()=>e[5]||(e[5]=[l("\u5220\u9664")])),_:1,__:[5]})]),_:2},1032,["onOk"])]),_:2},1024)]),_:1})]),_:1},8,["loading","data","pagination"]))]),_:1})])}}});var U=S(j,[["__scopeId","data-v-604c9321"]]);export{U as default};
